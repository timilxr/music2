{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AYORINDE JOHN\\\\Desktop\\\\smarthub files\\\\smarthub\\\\react-apps\\\\music\\\\src\\\\components\\\\add_post.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css'; // import {Link} from 'react-router-dom';\n\nexport default class AddPost extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeCategory = this.onChangeCategory.bind(this);\n    this.onChangeAuthor = this.onChangeAuthor.bind(this);\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onChangeFile = this.onChangeFile.bind(this);\n    this.onChangeContent = this.onChangeContent.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onPost = this.onPost.bind(this);\n    this.state = {\n      post_title: '',\n      post_category: '',\n      post_author: '',\n      post_status: '',\n      post_image: '',\n      post_file: '',\n      post_content: '',\n      post_date: new Date()\n    };\n  }\n\n  componentDidMount() {\n    // var path = require('path');\n    // var jack = \"C:\\\\Python27\\\\ArcGIS10.2\\\\python.exe\";\n    // var jack = jack.split('\\\\').join('/');\n    // var file = path.basename(jack);\n    // alert(path.basename(\"C:\\Python27\\ArcGIS10.2\\python.exe\", '.exe'));\n    // alert(file);\n    const fileExists = require('file-exists');\n\n    try {\n      fileExists('/dashboard.js').then(exists => {\n        console.log(exists); // OUTPUTS: true or false\n      });\n    } catch (err) {\n      console.error(err);\n      alert('Not Exist2');\n    }\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      post_title: e.target.value\n    });\n  }\n\n  onChangeCategory(e) {\n    this.setState({\n      post_category: e.target.value\n    });\n  }\n\n  onChangeAuthor(e) {\n    this.setState({\n      post_author: e.target.value\n    });\n  }\n\n  onChangeStatus(e) {\n    this.setState({\n      post_status: e.target.value\n    });\n  }\n\n  onChangeImage(e) {\n    this.setState({\n      post_image: e.target.value\n    });\n  }\n\n  onChangeFile(e) {\n    this.setState({\n      post_file: e.target.value\n    });\n  }\n\n  onChangeContent(e) {\n    this.setState({\n      post_content: e.target.value\n    });\n  }\n\n  onChangeDate(e) {\n    this.setState({\n      post_date: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n  }\n\n  onPost() {\n    var path = require(\"path\");\n\n    var postfile = this.state.post_file.split('\\\\').join('/');\n    var file = path.basename(postfile);\n    const posts = {\n      post_title: this.state.post_title,\n      post_category: this.state.post_category,\n      post_author: this.state.post_author,\n      post_status: this.state.post_status,\n      post_image: this.state.post_image,\n      post_file: file,\n      post_content: this.state.post_content,\n      post_date: this.state.post_date\n    };\n    console.log(posts);\n    const File_path = './../../public/files/' + posts.post_file;\n    const Img_path = './../../public/images/' + posts.post_image; // const file = new File(File_path);\n\n    alert(File_path); // console.log(File_path);\n\n    const fs = require('fs');\n\n    try {\n      if (fs.existsSync('./dashboard.js')) {\n        console.log(\"File exists.\");\n      } else {\n        console.log(\"File does not exist.\");\n      }\n    } catch (err) {\n      console.error(err);\n    } // axios.post('http://localhost:5001/posts/add', posts)\n    // .then(res => console.log(res.data));\n    // window.location = '/';\n\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, \"Post title\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.post_title,\n      onChange: this.onChangeTitle,\n      name: \"post_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"post_category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \"Post category\"), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"post_category\",\n      id: \"\",\n      required: true,\n      value: this.state.post_category,\n      onChange: this.onChangeCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"News\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, \"NEWS\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Audio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, \"AUDIO\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Video\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, \"VIDEO\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, \"Post Author\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"post_author\",\n      required: true,\n      value: this.state.post_author,\n      onChange: this.onChangeAuthor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, \"Post status\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"post_status\",\n      required: true,\n      value: this.state.post_status,\n      onChange: this.onChangeStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"post_image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, \"Post image\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      className: \"form-control custom-file-input\",\n      required: true,\n      value: this.state.post_image,\n      onChange: this.onChangeImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group custom-file mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, \"Post vidoe/audio\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control custom-file-input\",\n      name: \"post_file\",\n      required: true,\n      value: this.state.post_file,\n      onChange: this.onChangeFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, \"Post content\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"post_content\",\n      className: \"form-control\",\n      id: \"\",\n      cols: \"30\",\n      rows: \"10\",\n      required: true,\n      value: this.state.post_content,\n      onChange: this.onChangeContent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }\n    }, \"Post Date: \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      selected: this.state.post_date,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      onClick: this.onPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, \"Post\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/AYORINDE JOHN/Desktop/smarthub files/smarthub/react-apps/music/src/components/add_post.js"],"names":["React","Component","axios","DatePicker","AddPost","constructor","props","onChangeTitle","bind","onChangeCategory","onChangeAuthor","onChangeStatus","onChangeImage","onChangeFile","onChangeContent","onChangeDate","onPost","state","post_title","post_category","post_author","post_status","post_image","post_file","post_content","post_date","Date","componentDidMount","fileExists","require","then","exists","console","log","err","error","alert","e","setState","target","value","onSubmit","preventDefault","path","postfile","split","join","file","basename","posts","File_path","Img_path","fs","existsSync","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\n// import {Link} from 'react-router-dom';\r\n\r\nexport default class AddPost extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeCategory = this.onChangeCategory.bind(this);\r\n        this.onChangeAuthor = this.onChangeAuthor.bind(this);\r\n        this.onChangeStatus = this.onChangeStatus.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        this.onChangeFile = this.onChangeFile.bind(this);\r\n        this.onChangeContent = this.onChangeContent.bind(this);\r\n        this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onPost = this.onPost.bind(this);\r\n\r\n        this.state={\r\n            post_title: '',\r\n            post_category: '',\r\n            post_author: '',\r\n            post_status: '',\r\n            post_image: '',\r\n            post_file: '',\r\n            post_content: '',\r\n            post_date: new Date()\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        // var path = require('path');\r\n        // var jack = \"C:\\\\Python27\\\\ArcGIS10.2\\\\python.exe\";\r\n        // var jack = jack.split('\\\\').join('/');\r\n        // var file = path.basename(jack);\r\n        // alert(path.basename(\"C:\\Python27\\ArcGIS10.2\\python.exe\", '.exe'));\r\n        // alert(file);\r\n        const fileExists = require('file-exists');\r\n\r\n        try {\r\n            fileExists('/dashboard.js').then(exists => {\r\n                console.log(exists) // OUTPUTS: true or false\r\n              })\r\n          } catch(err) {\r\n            console.error(err)\r\n            alert('Not Exist2');\r\n          }\r\n    }\r\n\r\n    onChangeTitle(e){\r\n        this.setState({\r\n            post_title: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeCategory(e){\r\n        this.setState({\r\n            post_category: e.target.value\r\n        });\r\n    }\r\n    onChangeAuthor(e){\r\n        this.setState({\r\n            post_author: e.target.value\r\n        });\r\n    }\r\n    onChangeStatus(e){\r\n        this.setState({\r\n            post_status: e.target.value\r\n        });\r\n    }\r\n    onChangeImage(e){\r\n        this.setState({\r\n            post_image: e.target.value\r\n        });\r\n    }\r\n    onChangeFile(e){\r\n        this.setState({\r\n            post_file: e.target.value\r\n        });\r\n    }\r\n    onChangeContent(e){\r\n        this.setState({\r\n            post_content: e.target.value\r\n        });\r\n    }\r\n    onChangeDate(e){\r\n        this.setState({\r\n            post_date: e.target.value\r\n        });\r\n    }\r\n    onSubmit(e){\r\n        e.preventDefault();\r\n    }\r\n    onPost(){\r\n        var path = require(\"path\");\r\n        var postfile = this.state.post_file.split('\\\\').join('/');\r\n        var file = path.basename(postfile);\r\n        const posts = {\r\n            post_title: this.state.post_title,\r\n            post_category: this.state.post_category,\r\n            post_author: this.state.post_author,\r\n            post_status: this.state.post_status,\r\n            post_image: this.state.post_image,\r\n            post_file: file,\r\n            post_content: this.state.post_content,\r\n            post_date: this.state.post_date\r\n        };\r\n        console.log(posts);\r\n        const File_path = './../../public/files/' + posts.post_file;\r\n        const Img_path = './../../public/images/' + posts.post_image;\r\n        \r\n        // const file = new File(File_path);\r\n\r\n        alert(File_path);\r\n        // console.log(File_path);\r\n        const fs = require('fs');\r\n\r\n        try {\r\n            if (fs.existsSync('./dashboard.js')) {\r\n              console.log(\"File exists.\")\r\n            } else {\r\n              console.log(\"File does not exist.\")\r\n            }\r\n          } catch(err) {\r\n            console.error(err)\r\n          }\r\n\r\n        // axios.post('http://localhost:5001/posts/add', posts)\r\n        // .then(res => console.log(res.data));\r\n\r\n        // window.location = '/';\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <form encType=\"multipart/form-data\" onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post title</label>\r\n                    <input type=\"text\" required className=\"form-control\" value={this.state.post_title} onChange={this.onChangeTitle} name=\"post_title\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"post_category\">Post category</label>\r\n                    <select name=\"post_category\" id=\"\" required value={this.state.post_category} onChange={this.onChangeCategory}>\r\n                    <option value='News'>NEWS</option>\r\n                    <option value='Audio'>AUDIO</option>\r\n                    <option value='Video'>VIDEO</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post Author</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"post_author\" required value={this.state.post_author} onChange={this.onChangeAuthor} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post status</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"post_status\" required value={this.state.post_status} onChange={this.onChangeStatus}/>\r\n                </div>\r\n                <div className=\"form-group custom-file\">\r\n                    <label htmlFor=\"post_image\">Post image</label>\r\n                    <input type=\"file\" name=\"image\" className=\"form-control custom-file-input\"required value={this.state.post_image} onChange={this.onChangeImage} />\r\n                </div>\r\n                <div className=\"form-group custom-file mb-3\">\r\n                    <label htmlFor=\"title\">Post vidoe/audio</label>\r\n                    <input type=\"file\" className=\"form-control custom-file-input\" name=\"post_file\" required value={this.state.post_file} onChange={this.onChangeFile}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post content</label>\r\n                    <textarea name=\"post_content\" className=\"form-control\" id=\"\" cols=\"30\" rows=\"10\" required value={this.state.post_content} onChange={this.onChangeContent}>\r\n                    </textarea>\r\n                </div>\r\n                <div className='form-group'>\r\n                        <label>Post Date: </label>\r\n                        <div>\r\n                            <DatePicker\r\n                            selected={this.state.post_date}\r\n                            onChange={this.onChangeDate}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary\" type='submit' onClick={this.onPost} >Post</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}