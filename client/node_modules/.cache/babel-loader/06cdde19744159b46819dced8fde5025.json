{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AYORINDE JOHN\\\\Desktop\\\\smarthub files\\\\smarthub\\\\react-apps\\\\music\\\\src\\\\components\\\\add_post.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css'; // import {Link} from 'react-router-dom';\n\nexport default class AddPost extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this); // this.onChangeCategory = this.onChangeCategory.bind(this);\n    // this.onChangeAuthor = this.onChangeAuthor.bind(this);\n    // this.onChangeStatus = this.onChangeStatus.bind(this);\n\n    this.onChangeImage = this.onChangeImage.bind(this); // this.onChangeFile = this.onChangeFile.bind(this);\n    // this.onChangeContent = this.onChangeContent.bind(this);\n    // this.onChangeDate = this.onChangeDate.bind(this);\n\n    this.onPost = this.onPost.bind(this);\n    this.state = {\n      post_title: '',\n      // post_category: '',\n      // post_author: '',\n      // post_status: '',\n      post_image: null // post_file: '',\n      // post_content: '',\n      // post_date: new Date()\n\n    };\n  }\n\n  componentDidMount() {// var path = require('path');\n    // var jack = \"C:\\\\Python27\\\\ArcGIS10.2\\\\python.exe\";\n    // var jack = jack.split('\\\\').join('/');\n    // var file = path.basename(jack);\n    // alert(path.basename(\"C:\\Python27\\ArcGIS10.2\\python.exe\", '.exe'));\n    // alert(file);\n    // const fileExists = require('file-exists');\n    // try {\n    //     fileExists('/dashboard.js').then(exists => {\n    //         console.log(exists) // OUTPUTS: true or false\n    //         alert('exists');\n    //       })\n    //   } catch(err) {\n    //     console.error(err)\n    //     alert('Not Exist2');\n    //   }\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      post_title: e.target.value\n    });\n    console.log(this.state.post_title);\n  } // onChangeCategory(e){\n  //     this.setState({\n  //         post_category: e.target.value\n  //     });\n  // }\n  // onChangeAuthor(e){\n  //     this.setState({\n  //         post_author: e.target.value\n  //     });\n  // }\n  // onChangeStatus(e){\n  //     this.setState({\n  //         post_status: e.target.value\n  //     });\n  // }\n\n\n  onChangeImage(e) {\n    this.setState({\n      post_image: e.target.files\n    });\n    console.log(this.state.post_image);\n  } // onChangeFile(e){\n  //     this.setState({\n  //         post_file: e.target.value\n  //     });\n  // }\n  // onChangeContent(e){\n  //     this.setState({\n  //         post_content: e.target.value\n  //     });\n  // }\n  // onChangeDate(e){\n  //     this.setState({\n  //         post_date: e.target.value\n  //     });\n  // }\n\n\n  onSubmit(e) {\n    e.preventDefault();\n  }\n\n  onPost() {\n    // var path = require(\"path\");\n    // var postfile = this.state.post_file.split('\\\\').join('/');\n    // var file = path.basename(postfile);\n    const posts = {\n      post_title: this.state.post_title,\n      // post_category: this.state.post_category,\n      // post_author: this.state.post_author,\n      // post_status: this.state.post_status,\n      post_image: this.state.post_image // post_file: file,\n      // post_content: this.state.post_content,\n      // post_date: this.state.post_date\n\n    };\n    console.log(posts);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }; // console.log(posts);\n    // const File_path = './../../public/files/' + posts.post_file;\n    // const Img_path = './../../public/images/' + posts.post_image;\n    // const file = new File(File_path);\n    // alert(File_path);\n    // const formdata = new FormData();\n\n    axios.post('http://localhost:5001/posts/add', posts, config).then(res => {\n      console.log(res.data);\n      alert(\"The file is successfully uploaded\");\n    }).catch(err => alert('err: ' + err)); // window.location = '/';\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      encType: \"multipart/form-data\",\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, \"Post title\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      value: this.state.post_title,\n      onChange: this.onChangeTitle,\n      name: \"post_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"post_image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, \"Post image\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      className: \"form-control custom-file-input\",\n      required: true,\n      onChange: this.onChangeImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      onClick: this.onPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, \"Post\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/AYORINDE JOHN/Desktop/smarthub files/smarthub/react-apps/music/src/components/add_post.js"],"names":["React","Component","axios","DatePicker","AddPost","constructor","props","onChangeTitle","bind","onChangeImage","onPost","state","post_title","post_image","componentDidMount","e","setState","target","value","console","log","files","onSubmit","preventDefault","posts","config","headers","post","then","res","data","alert","catch","err","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\n// import {Link} from 'react-router-dom';\r\n\r\nexport default class AddPost extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        // this.onChangeCategory = this.onChangeCategory.bind(this);\r\n        // this.onChangeAuthor = this.onChangeAuthor.bind(this);\r\n        // this.onChangeStatus = this.onChangeStatus.bind(this);\r\n        this.onChangeImage = this.onChangeImage.bind(this);\r\n        // this.onChangeFile = this.onChangeFile.bind(this);\r\n        // this.onChangeContent = this.onChangeContent.bind(this);\r\n        // this.onChangeDate = this.onChangeDate.bind(this);\r\n        this.onPost = this.onPost.bind(this);\r\n\r\n        this.state={\r\n            post_title: '',\r\n            // post_category: '',\r\n            // post_author: '',\r\n            // post_status: '',\r\n            post_image: null\r\n            // post_file: '',\r\n            // post_content: '',\r\n            // post_date: new Date()\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        // var path = require('path');\r\n        // var jack = \"C:\\\\Python27\\\\ArcGIS10.2\\\\python.exe\";\r\n        // var jack = jack.split('\\\\').join('/');\r\n        // var file = path.basename(jack);\r\n        // alert(path.basename(\"C:\\Python27\\ArcGIS10.2\\python.exe\", '.exe'));\r\n        // alert(file);\r\n        // const fileExists = require('file-exists');\r\n\r\n        // try {\r\n        //     fileExists('/dashboard.js').then(exists => {\r\n        //         console.log(exists) // OUTPUTS: true or false\r\n        //         alert('exists');\r\n        //       })\r\n        //   } catch(err) {\r\n        //     console.error(err)\r\n        //     alert('Not Exist2');\r\n        //   }\r\n    }\r\n\r\n    onChangeTitle(e){\r\n        this.setState({\r\n            post_title: e.target.value\r\n        });\r\n        console.log(this.state.post_title);\r\n    }\r\n\r\n    // onChangeCategory(e){\r\n    //     this.setState({\r\n    //         post_category: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeAuthor(e){\r\n    //     this.setState({\r\n    //         post_author: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeStatus(e){\r\n    //     this.setState({\r\n    //         post_status: e.target.value\r\n    //     });\r\n    // }\r\n    onChangeImage(e){\r\n        this.setState({\r\n            post_image: e.target.files\r\n        });\r\n        console.log(this.state.post_image);\r\n    }\r\n    // onChangeFile(e){\r\n    //     this.setState({\r\n    //         post_file: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeContent(e){\r\n    //     this.setState({\r\n    //         post_content: e.target.value\r\n    //     });\r\n    // }\r\n    // onChangeDate(e){\r\n    //     this.setState({\r\n    //         post_date: e.target.value\r\n    //     });\r\n    // }\r\n    onSubmit(e){\r\n        e.preventDefault();\r\n    }\r\n    onPost(){\r\n        // var path = require(\"path\");\r\n        // var postfile = this.state.post_file.split('\\\\').join('/');\r\n        // var file = path.basename(postfile);\r\n        const posts = {\r\n            post_title: this.state.post_title,\r\n            // post_category: this.state.post_category,\r\n            // post_author: this.state.post_author,\r\n            // post_status: this.state.post_status,\r\n            post_image: this.state.post_image\r\n            // post_file: file,\r\n            // post_content: this.state.post_content,\r\n            // post_date: this.state.post_date\r\n        };\r\n        console.log(posts);\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        };\r\n        // console.log(posts);\r\n        // const File_path = './../../public/files/' + posts.post_file;\r\n        // const Img_path = './../../public/images/' + posts.post_image;\r\n        \r\n        // const file = new File(File_path);\r\n\r\n        // alert(File_path);\r\n        // const formdata = new FormData();\r\n        axios.post('http://localhost:5001/posts/add', posts, config)\r\n        .then(res => {console.log(res.data);alert(\"The file is successfully uploaded\");})\r\n        .catch(err => alert('err: ' + err));\r\n\r\n        // window.location = '/';\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <form encType=\"multipart/form-data\" onSubmit={this.onSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post title</label>\r\n                    <input type=\"text\" required className=\"form-control\" value={this.state.post_title} onChange={this.onChangeTitle} name=\"post_title\" />\r\n                </div>\r\n                {/* <div className=\"form-group\">\r\n                    <label htmlFor=\"post_category\">Post category</label>\r\n                    <select name=\"post_category\" id=\"\" required value={this.state.post_category} onChange={this.onChangeCategory}>\r\n                    <option value='News'>NEWS</option>\r\n                    <option value='Audio'>AUDIO</option>\r\n                    <option value='Video'>VIDEO</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post Author</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"post_author\" required value={this.state.post_author} onChange={this.onChangeAuthor} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post status</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"post_status\" required value={this.state.post_status} onChange={this.onChangeStatus}/>\r\n                </div> */}\r\n                <div className=\"form-group custom-file\">\r\n                    <label htmlFor=\"post_image\">Post image</label>\r\n                    <input type=\"file\" name=\"image\" className=\"form-control custom-file-input\" required onChange={this.onChangeImage} />\r\n                </div>\r\n                {/* <div className=\"form-group custom-file mb-3\">\r\n                    <label htmlFor=\"title\">Post vidoe/audio</label>\r\n                    <input type=\"file\" className=\"form-control custom-file-input\" name=\"post_file\" required value={this.state.post_file} onChange={this.onChangeFile}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Post content</label>\r\n                    <textarea name=\"post_content\" className=\"form-control\" id=\"\" cols=\"30\" rows=\"10\" required value={this.state.post_content} onChange={this.onChangeContent}>\r\n                    </textarea>\r\n                </div>\r\n                <div className='form-group'>\r\n                        <label>Post Date: </label>\r\n                        <div>\r\n                            <DatePicker\r\n                            selected={this.state.post_date}\r\n                            onChange={this.onChangeDate}\r\n                            />\r\n                        </div>\r\n                    </div> */}\r\n                <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary\" type='submit' onClick={this.onPost} >Post</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}